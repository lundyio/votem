<app-header></app-header>
<section>
  <h1>{{election.name}}</h1>
</section>
<section>
  <div class="personal-info">
    <h3>Your Information</h3>
    <form #f="ngForm" novalidate [ngClass]="{submitted: submitted, shake: submitted && f.invalid}">
      <div class="row">
        <div class="col-4">
          <label for="firstName">First Name</label>
          <input type="text" id="firstName" name="firstName" ngModel required #firstName="ngModel" [ngClass]="{shake: firstName.invalid && firstName.touched }">
          <div class="validation" *ngIf="(firstName.invalid && firstName.touched) || (firstName.invalid && submitted) ">
            <span>Your name is required.</span>
          </div>
        </div>
        <div class="col-4">
          <label for="lastName">Last Name</label>
          <input type="text" id="lastName" name="lastName" ngModel required #lastName="ngModel" [ngClass]="{shake: lastName.invalid && lastName.touched }">
          <div class="validation" *ngIf="(lastName.invalid && lastName.touched) || (lastName.invalid && submitted) ">
            <span>Your name is required.</span>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col-4">
          <label for="email">Email</label>
          <input type="email" id="email" name="email" ngModel required #email="ngModel" [ngClass]="{shake: email.invalid && email.touched }">
          <div class="validation" *ngIf="(email.invalid && email.touched) || (email.invalid && submitted) ">
            <span>Your email is required.</span>
          </div>
        </div>
        <div class="col-4">
          <label for="govId">Government ID</label>
          <input type="tel" id="govId" name="govId" ngModel required #govId="ngModel" [ngClass]="{shake: govId.invalid && govId.touched }">
          <div class="validation" *ngIf="(govId.invalid && govId.touched) || (govId.invalid && submitted) ">
            <span>Your postal code is required.</span>
          </div>
        </div>
      </div>
    </form>
  </div>
  <div class="vote">
      <app-ballot [election]="election"></app-ballot>
  </div>
  <div class="controls">
    <button (click)="onSubmit(f)" [ngClass]="{shake: submitted && f.invalid}">VOTE <i class="far fa-check" ></i></button>
  </div>
</section>